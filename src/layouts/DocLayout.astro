---
import "katex/dist/katex.css"

import MainLayout, {Props as MainLayoutProps} from "./MainLayout.astro"
import { format } from 'date-fns'

export interface Props {
  content: MainLayoutProps & {
    createdAt: string
    updatedAt?: string
  }
}

const {createdAt, updatedAt, ...props} = (Astro.props as Props).content
---

<MainLayout {...props}>
  <Fragment slot="head">
    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content={createdAt} />
    {updatedAt && <meta property="og:article:modified_time" content={createdAt} />}
  </Fragment>

  <p slot="meta" class="published">
    Published at: {format(new Date(createdAt), 'MMMM d, yyyy')}
    {updatedAt && `â€” Last modified: ${format(new Date(updatedAt), 'MMMM d, yyyy')}`}
  </p>

  <slot />

  <style>
    .published {
      font-size: 0.9rem;
      opacity: 0.7;
    }
  </style>
</MainLayout>
